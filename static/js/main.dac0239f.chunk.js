(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,n){},107:function(t,e,n){},109:function(t,e,n){},111:function(t,e,n){},113:function(t,e,n){},116:function(t,e,n){},118:function(t,e,n){},194:function(t,e,n){},196:function(t,e,n){},198:function(t,e,n){},200:function(t,e,n){},202:function(t,e,n){},204:function(t,e,n){},206:function(t,e,n){},228:function(t,e,n){},230:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"changeTab",function(){return vn}),n.d(a,"tabGroupSortClicked",function(){return mn}),n.d(a,"logout",function(){return pn}),n.d(a,"changeLightLimit",function(){return jn}),n.d(a,"changeHeavyLimit",function(){return On}),n.d(a,"changeDate",function(){return wn}),n.d(a,"loadWeightsForDate",function(){return En}),n.d(a,"changeWeight",function(){return yn}),n.d(a,"changeTag",function(){return kn}),n.d(a,"changeSort",function(){return In}),n.d(a,"moveInput",function(){return Nn}),n.d(a,"moveInputUp",function(){return Cn}),n.d(a,"moveInputDown",function(){return Dn}),n.d(a,"saveTag",function(){return Wn}),n.d(a,"saveWeight",function(){return Yn}),n.d(a,"init",function(){return qn});var r=n(0),c=n.n(r),o=n(75),u=n.n(o),i=n(3),s=n(7),l=(n(231),n(21)),g=n(22),b=n(24),d=n(23),f=n(25),h=n(2);n(105);function v(){var t=Object(h.a)(["msg"]);return v=function(){return t},t}var m=Object(s.connect)({msg:Object(i.state)(v())},function(t){return c.a.createElement("div",{className:"msg msg"+t.msg.type},t.msg.text)}),p=n(6),j=n.n(p),O=n(11),w=n.n(O);n(107);function E(){var t=Object(h.a)(["changeSort"]);return E=function(){return t},t}function y(){var t=Object(h.a)(["moveInput"]);return y=function(){return t},t}function k(){var t=Object(h.a)(["weightInput"]);return k=function(){return t},t}function I(){var t=Object(h.a)(["tagInput"]);return I=function(){return t},t}function N(){var t=Object(h.a)(["treatments.colors"]);return N=function(){return t},t}function C(){var t=Object(h.a)(["weights.records"]);return C=function(){return t},t}var D=Object(s.connect)({records:Object(i.state)(C()),colors:Object(i.state)(N()),tagInput:Object(i.state)(I()),weightInput:Object(i.state)(k()),moveInput:Object(i.sequences)(y()),changeSort:Object(i.sequences)(E())},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.props,e=t.tagInput.row===t.records.length,n=t.weightInput.row===t.records.length,a=t.tagInput.tag&&t.tagInput.tag.color?t.colors[t.tagInput.tag.color]:"black";return this.refTagActiveElement&&this.refTagActiveElement.scrollIntoView(),c.a.createElement("div",{className:"tabweights"},c.a.createElement("table",{className:"tabweightstable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"25%"},"Tag"),c.a.createElement("th",{width:"10%"},"Weight"),c.a.createElement("th",{width:"25%"},"Group"),c.a.createElement("th",{width:"8%"},"Days"),c.a.createElement("th",{width:"8%"},"RoG"),c.a.createElement("th",{width:"24%"},"Sort"))),c.a.createElement("tbody",null,j.a.map(t.records,function(e,n){var a=e.tag&&e.tag.color?t.colors[e.tag.color]:"black",r=t.tagInput.row===n,o=t.weightInput.row===n,u=r?t.tagInput.tag:e.tag;return c.a.createElement("tr",{key:"tabweightstablerow"+n,className:"tabweightstablerow"},c.a.createElement("td",{className:"tabweightstablecol "+(r?"tagactive ":""),onClick:function(){return t.moveInput({whichInput:"tagInput",row:n})},id:r?"tagScrollToMe":"tagDoNotScrollToMe"},c.a.createElement("div",{className:"tabweightstagtext",style:{color:a,borderColor:a}},u&&u.color?u.color:""," ",u&&u.number?u.number:"")),c.a.createElement("td",{className:"tabweightstablecol "+(o?"weightactive":""),onClick:function(){return t.moveInput({whichInput:"weightInput",row:n})},id:o?"weightScrollToMe":"weightDoNotScrollToMe",align:"center"},o?10*t.weightInput.weight:e.weight),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},e.group?function(t){var e=j.a.split(t,":");return e[0].length>6&&(e[0]=e[0].substr(0,3)+"..."+e[0].substr(-3)),j.a.join(e,":")}(e.group):"none"),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},e.days?e.days:""),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},e.rog?w()(e.rog).format("0.00"):""),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},c.a.createElement("select",{onChange:function(e){return t.changeSort({row:n,value:e.target.value})},value:e.sort||"SELL"},c.a.createElement("option",{value:"SELL"},"SELL"),c.a.createElement("option",{value:"HEAVY"},"HEAVY"),c.a.createElement("option",{value:"KEEP"},"KEEP"),c.a.createElement("option",{value:"JUNK"},"JUNK"),c.a.createElement("option",{value:"SPECIAL1"},"SPECIAL1"))))}),c.a.createElement("tr",{key:"extrarow",className:"tabweightstablerow"},c.a.createElement("td",{className:"tabweightstablecol "+(e?"tagactive":""),onClick:function(){return t.moveInput({whichInput:"tagInput",row:t.records.length})},id:!!e&&"tagScrollToMe"},e?c.a.createElement("div",{className:"tabweightstagtext",style:{color:a,borderColor:a}},t.tagInput.tag&&t.tagInput.tag.color?t.tagInput.tag.color:""," ",t.tagInput.tag&&t.tagInput.tag.number?t.tagInput.tag.number:""):" "),c.a.createElement("td",{className:"tabweightstablecol "+(n?"weightactive":""),onClick:function(){return t.moveInput({whichInput:"weightInput",row:t.records.length})},id:!!n&&"weightScrollToMe"},n?10*t.weightInput.weight:""),c.a.createElement("td",{className:"tabweightstablecol"}),c.a.createElement("td",{className:"tabweightstablecol"}),c.a.createElement("td",{className:"tabweightstablecol"}),c.a.createElement("td",{className:"tabweightstablecol"})))))}}]),e}(c.a.Component)),S=Object(s.connect)({},function(t){return c.a.createElement("div",{className:"tabtag"},"This is the tag tab")}),T=n(15),L=n.n(T);n(109);function W(){var t=Object(h.a)(["tabGroupSortClicked"]);return W=function(){return t},t}function Y(){var t=Object(h.a)(["historyGroup.sort"]);return Y=function(){return t},t}function q(){var t=Object(h.a)(["treatments.records"]);return q=function(){return t},t}function G(){var t=Object(h.a)(["incoming.records"]);return G=function(){return t},t}var R=Object(s.connect)({groups:Object(i.state)(G()),treatments:Object(i.state)(q()),sortBy:Object(i.state)(Y()),sortBySignal:Object(i.sequences)(W())},function(t){var e=t.groups;return e=j.a.sortBy(e,function(e){return"date"===t.sortBy?e.day:"name"===t.sortBy?e.groupname:"dead"===t.sortBy?e.dead:"perc"===t.sortBy?(e.dead?e.dead.length:0)/(e.head?e.head:1):e.day}),e=j.a.reverse(e),c.a.createElement("div",{className:"tabgroup"},c.a.createElement("table",{width:"100%"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"name"})}},"Name"),c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"date"})}},"Date"),c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"dead"})}},"Dead"),c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"perc"})}},"%")),j.a.map(e,function(t,e){var n=0;t.dead&&t.head&&(n=t.dead.length/t.head);var a=t.groupname;return a.length>15&&(a=a.slice(0,6)+"..."+a.slice(-6)),c.a.createElement("tr",{className:n<.05?"tabgroupgood":n<.1?"tabgroupmeh":"tabgroupbad",key:"tabgrouprow"+e},c.a.createElement("td",{className:"tabgroupname"},c.a.createElement("span",{name:"tabgroupnamepill"},a)),c.a.createElement("td",{className:"tabgroupdate"}," ",L()(t.date,"YYYY-MM-DD").format("M/DD/YY")),c.a.createElement("td",{className:"tabgroupdead"},t.dead?t.dead.length:0),c.a.createElement("td",{className:"tabgroupperc"},n>0?"("+w()(n).format("0.00%")+")":""))}))))}),M=n(78),x=n(4);function B(){var t=Object(h.a)(["dead.records"]);return B=function(){return t},t}var A=Object(M.extendMoment)(L.a),z=Object(s.connect)({deadRecords:Object(x.state)(B())},function(t){var e=A(),n=A.range(e.clone().subtract(1,"months"),e),a=A.range(e.clone().subtract(3,"months"),e),r=A.range(e.clone().subtract(1,"years"),e),o=j.a.filter(t.deadRecords,function(t){return A(t.date,"YYYY-MM-DD").within(n)}),u=j.a.filter(t.deadRecords,function(t){return A(t.date,"YYYY-MM-DD").within(a)}),i=j.a.filter(t.deadRecords,function(t){return A(t.date,"YYYY-MM-DD").within(r)}),s=j.a.reduce(o,function(t,e){return t+e.tags.length},0),l=j.a.reduce(u,function(t,e){return t+e.tags.length},0),g=j.a.reduce(i,function(t,e){return t+e.tags.length},0);return c.a.createElement("div",{className:"tabdead"},c.a.createElement("div",{className:"tabdeadentry"},"Past month: ",s," dead (",w()(s/n.diff("days")).format("0.00"),"/day)"),c.a.createElement("div",{className:"tabdeadentry"},"Past 3 months: ",l," dead (",w()(l/a.diff("days")).format("0.00"),"/day)"),c.a.createElement("div",{className:"tabdeadentry"},"Past year: ",g," dead (",w()(g/r.diff("days")).format("0.00"),"/day)"))});n(111);function V(){var t=Object(h.a)(["logout"]);return V=function(){return t},t}var U=Object(s.connect)({logout:Object(i.sequences)(V())},function(t){return c.a.createElement("div",{className:"prefs"},c.a.createElement("a",{href:"#top",className:"prefslink",onClick:function(e){t.logout(),e.preventDefault()}},"Change Trello Account"))});n(113);function H(){var t=Object(h.a)(["tabSelector"]);return H=function(){return t},t}var P=Object(s.connect)({tabSelector:Object(i.state)(H())},function(t){var e=c.a.createElement("div",{className:"tabscontainer"},"Unknown Tab Type");switch(t.tabSelector.active){case"weights":e=c.a.createElement(D,null);break;case"tag":e=c.a.createElement(S,null);break;case"group":e=c.a.createElement(R,null);break;case"dead":e=c.a.createElement(z,null);break;case"prefs":e=c.a.createElement(U,null)}return e}),K=n(79),F=n.n(K);n(116);function J(){var t=Object(h.a)(["changeTab"]);return J=function(){return t},t}function Q(){var t=Object(h.a)(["tabSelector"]);return Q=function(){return t},t}var X=Object(s.connect)({tabSelector:Object(i.state)(Q()),changeTab:Object(i.sequences)(J())},function(t){return c.a.createElement("div",{className:"tabselector"},c.a.createElement("div",{className:"tabselectorbutton "+("prefs"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"prefs"})}},c.a.createElement(F.a,{name:"bars"})),c.a.createElement("div",{className:"tabselectorbutton "+("weights"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"weights"})}},"Weights"),c.a.createElement("div",{className:"tabselectorbutton "+("tag"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"tag"})}},"Tag"),c.a.createElement("div",{className:"tabselectorbutton "+("group"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"group"})}},"Group"),c.a.createElement("div",{className:"tabselectorbutton "+("dead"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"dead"})}},"Dead"))}),Z=n(56),$=n.n(Z);n(118);function _(){var t=Object(h.a)(["changeHeavyLimit"]);return _=function(){return t},t}function tt(){var t=Object(h.a)(["changeLightLimit"]);return tt=function(){return t},t}function et(){var t=Object(h.a)(["loadWeightsForDate"]);return et=function(){return t},t}function nt(){var t=Object(h.a)(["changeDate"]);return nt=function(){return t},t}function at(){var t=Object(h.a)(["limits"]);return at=function(){return t},t}function rt(){var t=Object(h.a)(["weights.records"]);return rt=function(){return t},t}function ct(){var t=Object(h.a)(["date"]);return ct=function(){return t},t}var ot=Object(s.connect)({date:Object(i.state)(ct()),records:Object(i.state)(rt()),limits:Object(i.state)(at()),changeDate:Object(i.sequences)(nt()),loadWeightsForDate:Object(i.sequences)(et()),changeLightLimit:Object(i.sequences)(tt()),changeHeavyLimit:Object(i.sequences)(_())},function(t){var e=j.a.filter(t.records,function(e){return e.weight&&e.weight>t.limits.heavy}).length,n=j.a.reduce(t.records,function(t,e){if(!e.sort||!e.adjWeight||!e.tag)return console.log("invalid record, r = ",e),t;var n=t[e.sort];n.lbsGain+=e.lbsGain||0,n.days+=e.days||0,n.adjWeight+=e.adjWeight,n.count++;var a=t.ALL;return a.lbsGain+=e.lbsGain||0,a.days+=e.days||0,a.adjWeight+=e.adjWeight,a.count++,t},{ALL:{lbsGain:0,days:0,adjWeight:0,count:0},SELL:{lbsGain:0,days:0,adjWeight:0,count:0},HEAVY:{lbsGain:0,days:0,adjWeight:0,count:0},KEEP:{lbsGain:0,days:0,adjWeight:0,count:0},JUNK:{lbsGain:0,days:0,adjWeight:0,count:0},SPECIAL1:{lbsGain:0,days:0,adjWeight:0,count:0}});function a(t,e){return c.a.createElement($.a,{key:"weightdatebarstats"+t,className:"weightdatebarcardouter"},c.a.createElement("div",{className:"weightdatebarcardtitle"},t),c.a.createElement("div",{className:"weightdatebarcardinner"},c.a.createElement("div",{className:"weightdatebarfilter"},e.count+" head"),c.a.createElement("div",{className:"weightdatebarfilter"},e.days?w()(e.lbsGain/e.days).format("0.00"):0," RoG"),c.a.createElement("div",{className:"weightdatebarfilter"},e.count?w()(e.adjWeight/e.count).format("0"):0," lbs")))}return c.a.createElement("div",{className:"weightdatebar"},c.a.createElement($.a,{className:"weightdatebarcardouter"},c.a.createElement("div",{className:"weightdatebarcardtitle"},"Date / Heavy Filter"),c.a.createElement("div",{className:"weightdatebarcardinner"},c.a.createElement("input",{className:"weightdatebarinput",value:t.date,type:"date",onChange:function(e){e.preventDefault(),t.changeDate({date:e.target.value})},onBlur:function(){return t.loadWeightsForDate()}}),c.a.createElement("div",{className:"weightdatebarfilter"},e," >",c.a.createElement("input",{className:"weightdatebarinput",label:"Heavy",size:"5",value:t.limits.heavy,onChange:function(e){e.preventDefault(),t.changeHeavyLimit({heavy:e.target.value})}}),"lbs"))),j.a.map(["ALL","SELL","HEAVY","KEEP","JUNK"],function(t){return a(t,n[t])}),function(t){var e=j.a.cloneDeep(n[t[0]]);return j.a.each(t.slice(1),function(t){var a=n[t];e.count+=a.count,e.lbsGain+=a.lbsGain,e.adjWeight+=a.adjWeight}),a(j.a.join(t,"+"),e)}(["SELL","HEAVY"]))});n(194);function ut(){var t=Object(h.a)(["windowSize"]);return ut=function(){return t},t}var it=Object(s.connect)({windowSize:Object(i.state)(ut())},function(t){return c.a.createElement("div",{className:"weightspane",style:{height:"landscape"===t.windowSize.orientation?"100vh":"100vw"}},c.a.createElement(m,null),c.a.createElement(X,null),c.a.createElement(ot,null),c.a.createElement(P,null))}),st=(n(196),Object(s.connect)({},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"keypressed",value:function(t){if(!this.props.disableKeypress){8===t.keyCode&&(this.props.onBackspace(),t.preventDefault());var e=t.keyCode-48;e>=0&&e<=9&&(this.props.onNumber(e),t.preventDefault())}}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keypressed.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keypressed.bind(this))}},{key:"numberClicked",value:function(t){var e=this;return function(n){n.preventDefault(),e.props.onNumber(t)}}},{key:"clearClicked",value:function(t){t.preventDefault(),this.props.onClear()}},{key:"backspaceClicked",value:function(t){t.preventDefault(),this.props.onBackspace()}},{key:"renderCalcRow",value:function(t){var e=this;return c.a.createElement("div",{className:"keypadrow"},t.map(function(t){return c.a.createElement("div",{className:"keypadbutton",key:"calcwrap"+(j.a.isObject(t)?t.val:t),onClick:j.a.isObject(t)?t.clicked:e.numberClicked(t).bind(e)},j.a.isObject(t)?t.val:t)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"keypad"},this.renderCalcRow([1,2,3]),this.renderCalcRow([4,5,6]),this.renderCalcRow([7,8,9]),this.renderCalcRow([{val:"C",clicked:this.clearClicked.bind(this)},0,{val:"<--",clicked:this.backspaceClicked.bind(this)}]))}}]),e}(c.a.Component)));n(198);function lt(){var t=Object(h.a)(["changeTag"]);return lt=function(){return t},t}function gt(){var t=Object(h.a)(["treatments.colors"]);return gt=function(){return t},t}function bt(){var t=Object(h.a)(["tagInput.tag"]);return bt=function(){return t},t}var dt=Object(s.connect)({tag:Object(i.state)(bt()),colors:Object(i.state)(gt()),changeTag:Object(i.sequences)(lt())},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"keypressed",value:function(t){var e="";switch(t.key){case"y":e="YELLOW";break;case"g":e="GREEN";break;case"b":e="BLUE";break;case"r":e="RED";break;case"p":e="PURPLE";break;case"w":e="WHITE";break;case"n":e="NOTAG";break;default:return}t.preventDefault(),this.props.changeTag({tag:{color:e}})}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keypressed.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keypressed.bind(this))}},{key:"colorButtonClicked",value:function(t){var e=this.props;return function(n){n.preventDefault(),e.changeTag({tag:{color:t}})}}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"colorbar"},j.a.keys(this.props.colors).map(function(e,n){return c.a.createElement("div",{key:"color"+e,className:"colorbutton",onClick:t.colorButtonClicked(e),style:{backgroundColor:t.props.colors[e]}})}),c.a.createElement("div",{key:"colorNOTAG",className:"colorbutton",onClick:this.colorButtonClicked("NOTAG"),style:{backgroundColor:"#CCCCCC"}}))}}]),e}(c.a.Component));n(200);function ft(){var t=Object(h.a)(["changeTag"]);return ft=function(){return t},t}function ht(){var t=Object(h.a)(["treatments.colors"]);return ht=function(){return t},t}function vt(){var t=Object(h.a)(["tagInput.tag"]);return vt=function(){return t},t}var mt=Object(s.connect)({tag:Object(i.state)(vt()),colors:Object(i.state)(ht()),changeTag:Object(i.sequences)(ft())},function(t){var e=t.colors[t.tag.color];return c.a.createElement("div",{className:"tagbar"},c.a.createElement("input",{className:"colortext",style:{color:e,borderColor:e},value:t.tag.color,type:"text",onChange:function(e){e.preventDefault(),t.changeTag({tag:{color:e.target.value}})}}),c.a.createElement("input",{className:"numbertext",value:t.tag.number||"",type:"text",onChange:function(e){e.preventDefault(),t.changeTag({tag:{number:+e.target.value}})}}))});n(202);function pt(){var t=Object(h.a)(["moveInputDown"]);return pt=function(){return t},t}function jt(){var t=Object(h.a)(["moveInputUp"]);return jt=function(){return t},t}function Ot(){var t=Object(h.a)(["saveTag"]);return Ot=function(){return t},t}function wt(){var t=Object(h.a)(["changeTag"]);return wt=function(){return t},t}function Et(){var t=Object(h.a)(["tagInput"]);return Et=function(){return t},t}function yt(){var t=Object(h.a)(["recordsValid"]);return yt=function(){return t},t}var kt=Object(s.connect)({recordsValid:Object(i.state)(yt()),tagInput:Object(i.state)(Et()),changeTag:Object(i.sequences)(wt()),saveTag:Object(i.sequences)(Ot()),moveUp:Object(i.sequences)(jt()),moveDown:Object(i.sequences)(pt())},function(t){var e=t.recordsValid&&t.tagInput.tag&&t.tagInput.tag.number&&t.tagInput.tag.color.length>0;return c.a.createElement("div",{className:"taginput"},c.a.createElement(mt,null),c.a.createElement(dt,null),c.a.createElement(st,{onNumber:function(e){var n=""+(t.tagInput.tag.number||"");t.changeTag({tag:{number:n+e}})},onClear:function(){t.changeTag({tag:{number:"",color:""}})},onBackspace:function(){var e=""+t.tagInput.tag.number;e.length>0&&(e=e.slice(0,-1)),t.changeTag({tag:{number:+e}})},disableKeypress:!0}),c.a.createElement("div",{className:"taginputbuttonscontainer"},c.a.createElement("div",{className:"taginputrowbutton taginputrowbuttonleft",onClick:function(){return t.moveUp({whichInput:"tagInput"})}},"^"),c.a.createElement("div",{className:"savebutton "+(e?"savebuttonenabled":"savebuttondisabled"),onClick:function(n){e&&(n.preventDefault(),t.saveTag())}},"SAVE TAG"),c.a.createElement("div",{className:"taginputrowbutton taginputrowbuttonright",onClick:function(){return t.moveDown({whichInput:"tagInput"})}},"v")))});n(204);function It(){var t=Object(h.a)(["moveInputDown"]);return It=function(){return t},t}function Nt(){var t=Object(h.a)(["moveInputUp"]);return Nt=function(){return t},t}function Ct(){var t=Object(h.a)(["saveWeight"]);return Ct=function(){return t},t}function Dt(){var t=Object(h.a)(["changeWeight"]);return Dt=function(){return t},t}function St(){var t=Object(h.a)(["weightInput"]);return St=function(){return t},t}function Tt(){var t=Object(h.a)(["recordsValid"]);return Tt=function(){return t},t}var Lt=Object(s.connect)({recordsValid:Object(i.state)(Tt()),weightInput:Object(i.state)(St()),changeWeight:Object(i.sequences)(Dt()),saveWeight:Object(i.sequences)(Ct()),moveUp:Object(i.sequences)(Nt()),moveDown:Object(i.sequences)(It())},function(t){var e=t.recordsValid&&t.weightInput.weight>0;return c.a.createElement("div",{className:"weightinput"},c.a.createElement("div",{className:"weightinputdisplay"},c.a.createElement("input",{className:"weightinputdisplayinput",size:"8",disabled:"disabled",value:w()(10*t.weightInput.weight).format(0,0)}),"lbs"),c.a.createElement(st,{onNumber:function(e){var n=""+(t.weightInput.weight||"");t.changeWeight({weight:n+e})},onClear:function(){t.changeWeight({weight:""})},onBackspace:function(){var e=""+t.weightInput.weight;e.length>0&&(e=e.slice(0,-1)),t.changeWeight({weight:+e})},disableKeypress:!0}),c.a.createElement("div",{className:"weightinputbuttonscontainer"},c.a.createElement("div",{className:"weightinputrowbutton weightinputrowbuttonleft",onClick:function(){return t.moveUp({whichInput:"weightInput"})}},"^"),c.a.createElement("div",{className:"weightsavebutton "+(e?"weightsavebuttonenabled":"weightsavebuttondisabled"),onClick:function(n){e&&(n.preventDefault(),t.saveWeight())}},"SAVE LBS"),c.a.createElement("div",{className:"weightinputrowbutton weightinputrowbuttonright",onClick:function(){return t.moveDown({whichInput:"weightInput"})}},"v")))});n(206);function Wt(){var t=Object(h.a)(["init"]);return Wt=function(){return t},t}function Yt(){var t=Object(h.a)(["windowSize"]);return Yt=function(){return t},t}var qt=Object(s.connect)({windowSize:Object(i.state)(Yt()),init:Object(i.sequences)(Wt())},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"render",value:function(){var t="landscape"===this.props.windowSize.orientation?"row":"column",e="row"===t?"column":"row",n="row"===e?"100%":"300px";return c.a.createElement("div",{className:"App",style:{flexDirection:t}},c.a.createElement(it,null),c.a.createElement("div",{className:"inputs",style:{flexDirection:e,maxWidth:n}},c.a.createElement(kt,null),c.a.createElement("div",{className:"spacer"}),c.a.createElement(Lt,null)))}}]),e}(c.a.Component)),Gt=n(8),Rt=n(81),Mt=n.n(Rt),xt=n(82),Bt=n.n(xt),At=n(83),zt=n.n(At),Vt=n(84),Ut=n.n(Vt),Ht=n(85),Pt=n.n(Ht),Kt=n(86),Ft=n.n(Kt),Jt=n(87),Qt=n.n(Jt),Xt=n(88),Zt=n.n(Xt),$t=n(89),_t=n.n($t),te=n(90),ee=n.n(te),ne=n(38),ae=n(48),re=n(49),ce=n(54),oe=n(28),ue=n(20),ie=n(46),se=n(55),le=n(32);function ge(){var t=Object(h.a)(["msg"]);return ge=function(){return t},t}function be(){var t=Object(h.a)(["recordsValid"]);return be=function(){return t},t}function de(){var t=Object(h.a)(["weightInput.row"]);return de=function(){return t},t}function fe(){var t=Object(h.a)(["tagInput.row"]);return fe=function(){return t},t}function he(){var t=Object(h.a)(["weights.records"]);return he=function(){return t},t}function ve(){var t=Object(h.a)(["msg"]);return ve=function(){return t},t}function me(){var t=Object(h.a)(["msg"]);return me=function(){return t},t}function pe(){var t=Object(h.a)(["msg"]);return pe=function(){return t},t}function je(){var t=Object(h.a)(["msg"]);return je=function(){return t},t}function Oe(){var t=Object(h.a)(["msg"]);return Oe=function(){return t},t}function we(){var t=Object(h.a)(["weightInput"]);return we=function(){return t},t}function Ee(){var t=Object(h.a)(["msg"]);return Ee=function(){return t},t}function ye(){var t=Object(h.a)(["msg"]);return ye=function(){return t},t}function ke(){var t=Object(h.a)(["tagInput"]);return ke=function(){return t},t}function Ie(){var t=Object(h.a)(["msg"]);return Ie=function(){return t},t}function Ne(){var t=Object(h.a)(["weights.records.",""]);return Ne=function(){return t},t}function Ce(){var t=Object(h.a)(["weights.records.",""]);return Ce=function(){return t},t}function De(){var t=Object(h.a)(["date"]);return De=function(){return t},t}function Se(){var t=Object(h.a)(["weights.records.",""]);return Se=function(){return t},t}function Te(){var t=Object(h.a)(["weights.records.",""]);return Te=function(){return t},t}function Le(){var t=Object(h.a)(["incoming.records"]);return Le=function(){return t},t}function We(){var t=Object(h.a)(["date"]);return We=function(){return t},t}function Ye(){var t=Object(h.a)(["incoming.records"]);return Ye=function(){return t},t}function qe(){var t=Object(h.a)(["weights.records.",".tag"]);return qe=function(){return t},t}function Ge(){var t=Object(h.a)(["weights.records.",".weight"]);return Ge=function(){return t},t}function Re(){var t=Object(h.a)(["",".row"]);return Re=function(){return t},t}function Me(){var t=Object(h.a)(["",".row"]);return Me=function(){return t},t}function xe(){var t=Object(h.a)(["",".row"]);return xe=function(){return t},t}function Be(){var t=Object(h.a)(["weights.records"]);return Be=function(){return t},t}function Ae(){var t=Object(h.a)(["weightInput.weight"]);return Ae=function(){return t},t}function ze(){var t=Object(h.a)(["weights.records.",".weight"]);return ze=function(){return t},t}function Ve(){var t=Object(h.a)(["weightInput.weight"]);return Ve=function(){return t},t}function Ue(){var t=Object(h.a)(["tagInput.tag"]);return Ue=function(){return t},t}function He(){var t=Object(h.a)(["weights.records.",".tag"]);return He=function(){return t},t}function Pe(){var t=Object(h.a)(["tagInput.tag.number"]);return Pe=function(){return t},t}function Ke(){var t=Object(h.a)(["weights.records"]);return Ke=function(){return t},t}function Fe(){var t=Object(h.a)(["",".row"]);return Fe=function(){return t},t}function Je(){var t=Object(h.a)(["msg"]);return Je=function(){return t},t}function Qe(){var t=Object(h.a)(["weights.records.",".sort"]);return Qe=function(){return t},t}function Xe(){var t=Object(h.a)(["msg"]);return Xe=function(){return t},t}function Ze(){var t=Object(h.a)(["tagInput.tag.color"]);return Ze=function(){return t},t}function $e(){var t=Object(h.a)(["tagInput.tag.number"]);return $e=function(){return t},t}function _e(){var t=Object(h.a)(["weight"]);return _e=function(){return t},t}function tn(){var t=Object(h.a)(["weightInput.weight"]);return tn=function(){return t},t}function en(){var t=Object(h.a)(["date"]);return en=function(){return t},t}function nn(){var t=Object(h.a)(["date"]);return nn=function(){return t},t}function an(){var t=Object(h.a)(["date"]);return an=function(){return t},t}function rn(){var t=Object(h.a)(["date"]);return rn=function(){return t},t}function cn(){var t=Object(h.a)(["heavy"]);return cn=function(){return t},t}function on(){var t=Object(h.a)(["limits.heavy"]);return on=function(){return t},t}function un(){var t=Object(h.a)(["light"]);return un=function(){return t},t}function sn(){var t=Object(h.a)(["limits.light"]);return sn=function(){return t},t}function ln(){var t=Object(h.a)(["sort"]);return ln=function(){return t},t}function gn(){var t=Object(h.a)(["tabGroup.sort"]);return gn=function(){return t},t}function bn(){var t=Object(h.a)(["active"]);return bn=function(){return t},t}function dn(){var t=Object(h.a)(["tabSelector.active"]);return dn=function(){return t},t}var fn=function(){var t=document.getElementById("tagScrollToMe");t&&t.scrollIntoView()},hn=function(){var t=document.getElementById("weightScrollToMe");t&&t.scrollIntoView()},vn=[Object(Gt.set)(Object(x.state)(dn()),Object(x.props)(bn()))],mn=[Object(Gt.set)(Object(x.state)(gn()),Object(x.props)(ln()))],pn=[ue.deauthorize,ue.authorize],jn=Object(i.sequence)("changeLightLimit",[Object(Gt.set)(Object(x.state)(sn()),Object(x.props)(un()))]),On=Object(i.sequence)("changeHeavyLimit",[Object(Gt.set)(Object(x.state)(on()),Object(x.props)(cn()))]),wn=Object(i.sequence)("changeDate",[Object(Gt.set)(Object(x.state)(rn()),Object(x.props)(an()))]),En=Object(i.sequence)("loadWeightsForDate",[Object(Gt.set)(Object(x.props)(nn()),Object(x.state)(en())),oe.clearCache,oe.fetch]),yn=Object(i.sequence)("changeWeight",[Object(Gt.set)(Object(x.state)(tn()),Object(x.props)(_e())),hn]),kn=Object(i.sequence)("changeTag",[function(t){var e=t.props,n=t.store;"undefined"!==typeof e.tag.number&&n.set(Object(x.state)($e()),+e.tag.number),e.tag.color&&n.set(Object(x.state)(Ze()),e.tag.color)},fn]),In=Object(i.sequence)("changeSort",[Object(Gt.set)(Object(x.state)(Xe()),{type:"bad",text:"Saving sort type change..."}),function(t){var e=t.props;return t.store.set(Object(x.state)(Qe(),e.row),e.value)},oe.saveRecordRow,Object(Gt.set)(Object(x.state)(Je()),{type:"good",text:"Sort type change saved"})]);var Nn=Object(i.sequence)("moveTagInput",[function(t){var e=t.store,n=t.props,a=t.get,r=n.row;if(n.row<0)r=0;else{var c=a(Object(x.state)(Be())).length;n.row>c-1&&(r=c)}return e.set(Object(x.state)(xe(),n.whichInput),r),{row:r}},function(t){var e=t.store,n=t.props,a=t.get,r=a(Object(x.state)(Fe(),n.whichInput)),c=a(Object(x.state)(Ke())).length;if("tagInput"===n.whichInput){if(r===c)return e.set(Object(x.state)(Pe()),"");var o=a(Object(x.state)(He(),r));o&&e.set(Object(x.state)(Ue()),j.a.clone(o))}if(r===c)return e.set(Object(x.state)(Ve()),"");var u=a(Object(x.state)(ze(),r));e.set(Object(x.state)(Ae()),j.a.clone(u)/10)},function(t){return"tagInput"===t.props.whichInput?fn():hn()}]),Cn=Object(i.sequence)("moveInputUp",[function(t){var e=t.props;return{row:(0,t.get)(Object(x.state)(Me(),e.whichInput))-1}},Nn]),Dn=Object(i.sequence)("moveTagInputDown",[function(t){var e=t.get,n=t.props;return{row:e(Object(x.state)(Re(),n.whichInput))+1}},Nn]);function Sn(t){var e=t.props,n=t.get;if(!e.group&&e.tag){var a=Object(le.groupForTag)(n(Object(x.state)(Ye())),e.tag);if(a){var r=L()(n(Object(x.state)(We())),"YYYY-MM-DD").diff(L()(a.date,"YYYY-MM-DD"),"days");return{group:j.a.cloneDeep(a.groupname),days:r,inDate:a.date}}}}function Tn(t){var e=t.props,n=t.get;if(e.weight&&e.group&&e.days&&e.tag){var a=j.a.find(n(Object(x.state)(Le())),function(t){return t.groupname===e.group}),r=e.days,c=e.weight/.98,o=c-a.weight;return{adjWeight:c,lbsGain:o,rog:o/r}}}function Ln(t){var e=t.props,n=t.store,a=t.get;a(Object(x.state)(Te(),e.row))||n.set(Object(x.state)(Se(),e.row),{row:e.row,date:a(Object(x.state)(De()))});var r={};return e.tag&&(r.tag=j.a.clone(e.tag)),e.weight&&(r.weight=e.weight),e.adjWeight&&(r.adjWeight=e.adjWeight),e.lbsGain&&(r.lbsGain=e.lbsGain),e.group&&(r.group=e.group),e.days&&(r.days=e.days),e.rog&&(r.rog=e.rog),e.inDate&&(r.inDate=e.inDate),n.merge(Object(x.state)(Ce(),e.row),r),{record:a(Object(x.state)(Ne(),e.row))}}var Wn=Object(i.sequence)("saveTag",[Object(Gt.set)(Object(x.state)(Ie()),{type:"bad",text:"Saving tag..."}),function(t){return(0,t.get)(Object(x.state)(ke()))},Sn,function(t){var e=t.props,n=t.get;if(!e.weight){var a=n(Object(x.state)(Ge(),e.row));if(a)return{weight:j.a.cloneDeep(a)}}},Tn,Ln,oe.saveRecordRow,function(){return{whichInput:"tagInput"}},Dn,Object(Gt.set)(Object(x.state)(ye()),{type:"good",text:"Tag Saved"})]),Yn=Object(i.sequence)("saveWeight",[Object(Gt.set)(Object(x.state)(Ee()),{type:"bad",text:"Saving weight..."}),function(t){return(0,t.get)(Object(x.state)(we()))},function(t){return{weight:10*t.props.weight}},function(t){var e=t.props,n=t.get;if(!e.tag){var a=n(Object(x.state)(qe(),e.row));if(a)return{tag:j.a.cloneDeep(a)}}},Sn,Tn,Ln,oe.saveRecordRow,function(){return{whichInput:"weightInput"}},Dn,Object(Gt.set)(Object(x.state)(Oe()),{type:"good",text:"Weight Saved"})]),qn=Object(i.sequence)("init",[se.init,Object(Gt.set)(Object(x.state)(je()),{type:"good",text:"Checking trello authorization..."}),ue.authorize,Object(Gt.set)(Object(x.state)(pe()),{type:"good",text:"Checking google authorization..."}),ie.authorize,Object(Gt.set)(Object(x.state)(me()),{type:"good",text:"Fetching records..."}),Object(i.parallel)("parallel fetch",[ae.fetch,ae.fetchConfig,re.fetch,ce.fetch,En]),Object(Gt.set)(Object(x.state)(ve()),{type:"good",text:"Computing stats..."}),re.computeStats,function(t){var e=t.store,n=(0,t.get)(Object(x.state)(he())).length;e.set(Object(x.state)(fe()),n),e.set(Object(x.state)(de()),n)},Object(Gt.set)(Object(x.state)(be()),!0),Object(Gt.set)(Object(x.state)(ge()),{type:"good",text:"Loaded successfully."}),fn]);function Gn(){var t=Object(h.a)(["msg"]);return Gn=function(){return t},t}function Rn(){var t=Object(h.a)(["msg"]);return Rn=function(){return t},t}function Mn(){var t=Object(h.a)(["msg"]);return Mn=function(){return t},t}var xn={sequences:a,state:{recordsValid:!1,date:L()().format("YYYY-MM-DD"),tabSelector:{active:"weights"},tagInput:{row:0,tag:{number:"",color:""}},weightInput:{row:0,weight:""},limits:{light:1200,heavy:1530},msg:{type:"bad",text:"Initializing..."}},modules:{treatments:Mt.a,incoming:Bt.a,dead:zt.a,weights:Ut.a,trello:Pt.a,google:Ft.a,windowSize:Qt.a},providers:{trello:Zt.a,google:_t.a,windowSize:ee.a},catch:[[ne.TrelloSaveError,[Object(Gt.set)(Object(x.state)(Mn()),"ERROR: failed to save in Trello")]],[ne.TrelloGetError,[Object(Gt.set)(Object(x.state)(Rn()),"ERROR: failed to get in Trello")]],[ne.TrelloAuthorizeError,[Object(Gt.set)(Object(x.state)(Gn()),"ERROR: failed to authorize in Trello")]]]},Bn=(n(211),n(228),Object(i.default)(xn,{devtools:null}));u.a.render(c.a.createElement(s.Container,{app:Bn},c.a.createElement(qt,null)),document.getElementById("root"))},91:function(t,e,n){t.exports=n(230)}},[[91,2,1]]]);
//# sourceMappingURL=main.dac0239f.chunk.js.map