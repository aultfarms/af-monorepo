(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,n){},107:function(t,e,n){},109:function(t,e,n){},111:function(t,e,n){},113:function(t,e,n){},116:function(t,e,n){},118:function(t,e,n){},194:function(t,e,n){},196:function(t,e,n){},198:function(t,e,n){},200:function(t,e,n){},202:function(t,e,n){},204:function(t,e,n){},206:function(t,e,n){},228:function(t,e,n){},230:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"changeTab",function(){return mn}),n.d(a,"tabGroupSortClicked",function(){return pn}),n.d(a,"logout",function(){return jn}),n.d(a,"changeLightLimit",function(){return On}),n.d(a,"changeHeavyLimit",function(){return wn}),n.d(a,"changeDate",function(){return En}),n.d(a,"loadWeightsForDate",function(){return yn}),n.d(a,"changeWeight",function(){return kn}),n.d(a,"changeTag",function(){return In}),n.d(a,"changeSort",function(){return Nn}),n.d(a,"moveInput",function(){return Cn}),n.d(a,"moveInputUp",function(){return Dn}),n.d(a,"moveInputDown",function(){return Sn}),n.d(a,"saveTag",function(){return Yn}),n.d(a,"saveWeight",function(){return qn}),n.d(a,"init",function(){return Gn});var r=n(0),c=n.n(r),o=n(75),u=n.n(o),i=n(3),s=n(7),l=(n(231),n(21)),g=n(22),b=n(24),d=n(23),f=n(25),h=n(2);n(105);function v(){var t=Object(h.a)(["msg"]);return v=function(){return t},t}var m=Object(s.connect)({msg:Object(i.state)(v())},function(t){return c.a.createElement("div",{className:"msg msg"+t.msg.type},t.msg.text)}),p=n(6),j=n.n(p),O=n(11),w=n.n(O);n(107);function E(){var t=Object(h.a)(["changeSort"]);return E=function(){return t},t}function y(){var t=Object(h.a)(["moveInput"]);return y=function(){return t},t}function k(){var t=Object(h.a)(["weightInput"]);return k=function(){return t},t}function I(){var t=Object(h.a)(["tagInput"]);return I=function(){return t},t}function N(){var t=Object(h.a)(["treatments.colors"]);return N=function(){return t},t}function C(){var t=Object(h.a)(["weights.records"]);return C=function(){return t},t}function D(t){return t.length<8?t:t.slice(0,3)+".."+t.slice(-3)}var S=Object(s.connect)({records:Object(i.state)(C()),colors:Object(i.state)(N()),tagInput:Object(i.state)(I()),weightInput:Object(i.state)(k()),moveInput:Object(i.sequences)(y()),changeSort:Object(i.sequences)(E())},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.props,e=t.tagInput.row===t.records.length,n=t.weightInput.row===t.records.length,a=t.tagInput.tag&&t.tagInput.tag.color?t.colors[t.tagInput.tag.color]:"black";return this.refTagActiveElement&&this.refTagActiveElement.scrollIntoView(),c.a.createElement("div",{className:"tabweights"},c.a.createElement("table",{className:"tabweightstable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"#"),c.a.createElement("th",{width:"25%"},"Tag"),c.a.createElement("th",{width:"8%"},"Weight"),c.a.createElement("th",{width:"22%"},"Group"),c.a.createElement("th",{width:"8%"},"Days"),c.a.createElement("th",{width:"8%"},"RoG"),c.a.createElement("th",{width:"24%"},"Sort"))),c.a.createElement("tbody",null,j.a.map(t.records,function(e,n){var a=e.tag&&e.tag.color?t.colors[e.tag.color]:"black",r=t.tagInput.row===n,o=t.weightInput.row===n,u=r?t.tagInput.tag:e.tag;return c.a.createElement("tr",{key:"tabweightstablerow"+n,className:"tabweightstablerow"},c.a.createElement("td",{className:"tabweightstablecol",align:"center"},n+1),c.a.createElement("td",{className:"tabweightstablecol "+(r?"tagactive ":""),onClick:function(){return t.moveInput({whichInput:"tagInput",row:n})},id:r?"tagScrollToMe":"tagDoNotScrollToMe"},c.a.createElement("div",{className:"tabweightstagtext",style:{color:a,borderColor:a}},u&&u.color?D(u.color):""," ",u&&u.number?u.number:"")),c.a.createElement("td",{className:"tabweightstablecol "+(o?"weightactive":""),onClick:function(){return t.moveInput({whichInput:"weightInput",row:n})},id:o?"weightScrollToMe":"weightDoNotScrollToMe",align:"center"},o?10*t.weightInput.weight:e.weight),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},e.group?function(t){var e=j.a.split(t,":");return e[0].length>6&&(e[0]=e[0].substr(0,3)+"..."+e[0].substr(-3)),j.a.join(e,":")}(e.group):"none"),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},e.days?e.days:""),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},e.rog?w()(e.rog).format("0.00"):""),c.a.createElement("td",{className:"tabweightstablecol",align:"center"},c.a.createElement("select",{onChange:function(e){return t.changeSort({row:n,value:e.target.value})},value:e.sort||"SELL"},c.a.createElement("option",{value:"SELL"},"SELL"),c.a.createElement("option",{value:"HEAVY"},"HEAVY"),c.a.createElement("option",{value:"KEEP"},"KEEP"),c.a.createElement("option",{value:"JUNK"},"JUNK"),c.a.createElement("option",{value:"SPECIAL1"},"SPECIAL1"))))}),c.a.createElement("tr",{key:"extrarow",className:"tabweightstablerow"},c.a.createElement("td",{className:"tabweightstablecol",align:"center"},t.records.length+1),c.a.createElement("td",{className:"tabweightstablecol "+(e?"tagactive":""),onClick:function(){return t.moveInput({whichInput:"tagInput",row:t.records.length})},id:e?"tagScrollToMe":"tagDoNotScrollToMe"},e?c.a.createElement("div",{className:"tabweightstagtext",style:{color:a,borderColor:a}},t.tagInput.tag&&t.tagInput.tag.color?D(t.tagInput.tag.color):""," ",t.tagInput.tag&&t.tagInput.tag.number?t.tagInput.tag.number:""):" "),c.a.createElement("td",{className:"tabweightstablecol "+(n?"weightactive":""),onClick:function(){return t.moveInput({whichInput:"weightInput",row:t.records.length})},id:!!n&&"weightScrollToMe"},n?10*t.weightInput.weight:""),c.a.createElement("td",{className:"tabweightstablecol"}),c.a.createElement("td",{className:"tabweightstablecol"}),c.a.createElement("td",{className:"tabweightstablecol"}),c.a.createElement("td",{className:"tabweightstablecol"})))))}}]),e}(c.a.Component)),T=Object(s.connect)({},function(t){return c.a.createElement("div",{className:"tabtag"},"This is the tag tab")}),L=n(15),W=n.n(L);n(109);function Y(){var t=Object(h.a)(["tabGroupSortClicked"]);return Y=function(){return t},t}function q(){var t=Object(h.a)(["historyGroup.sort"]);return q=function(){return t},t}function G(){var t=Object(h.a)(["treatments.records"]);return G=function(){return t},t}function R(){var t=Object(h.a)(["incoming.records"]);return R=function(){return t},t}var M=Object(s.connect)({groups:Object(i.state)(R()),treatments:Object(i.state)(G()),sortBy:Object(i.state)(q()),sortBySignal:Object(i.sequences)(Y())},function(t){var e=t.groups;return e=j.a.sortBy(e,function(e){return"date"===t.sortBy?e.day:"name"===t.sortBy?e.groupname:"dead"===t.sortBy?e.dead:"perc"===t.sortBy?(e.dead?e.dead.length:0)/(e.head?e.head:1):e.day}),e=j.a.reverse(e),c.a.createElement("div",{className:"tabgroup"},c.a.createElement("table",{width:"100%"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"name"})}},"Name"),c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"date"})}},"Date"),c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"dead"})}},"Dead"),c.a.createElement("th",{onClick:function(){return t.sortBySignal({sort:"perc"})}},"%")),j.a.map(e,function(t,e){var n=0;t.dead&&t.head&&(n=t.dead.length/t.head);var a=t.groupname;return a.length>15&&(a=a.slice(0,6)+"..."+a.slice(-6)),c.a.createElement("tr",{className:n<.05?"tabgroupgood":n<.1?"tabgroupmeh":"tabgroupbad",key:"tabgrouprow"+e},c.a.createElement("td",{className:"tabgroupname"},c.a.createElement("span",{name:"tabgroupnamepill"},a)),c.a.createElement("td",{className:"tabgroupdate"}," ",W()(t.date,"YYYY-MM-DD").format("M/DD/YY")),c.a.createElement("td",{className:"tabgroupdead"},t.dead?t.dead.length:0),c.a.createElement("td",{className:"tabgroupperc"},n>0?"("+w()(n).format("0.00%")+")":""))}))))}),x=n(78),B=n(4);function A(){var t=Object(h.a)(["dead.records"]);return A=function(){return t},t}var z=Object(x.extendMoment)(W.a),V=Object(s.connect)({deadRecords:Object(B.state)(A())},function(t){var e=z(),n=z.range(e.clone().subtract(1,"months"),e),a=z.range(e.clone().subtract(3,"months"),e),r=z.range(e.clone().subtract(1,"years"),e),o=j.a.filter(t.deadRecords,function(t){return z(t.date,"YYYY-MM-DD").within(n)}),u=j.a.filter(t.deadRecords,function(t){return z(t.date,"YYYY-MM-DD").within(a)}),i=j.a.filter(t.deadRecords,function(t){return z(t.date,"YYYY-MM-DD").within(r)}),s=j.a.reduce(o,function(t,e){return t+e.tags.length},0),l=j.a.reduce(u,function(t,e){return t+e.tags.length},0),g=j.a.reduce(i,function(t,e){return t+e.tags.length},0);return c.a.createElement("div",{className:"tabdead"},c.a.createElement("div",{className:"tabdeadentry"},"Past month: ",s," dead (",w()(s/n.diff("days")).format("0.00"),"/day)"),c.a.createElement("div",{className:"tabdeadentry"},"Past 3 months: ",l," dead (",w()(l/a.diff("days")).format("0.00"),"/day)"),c.a.createElement("div",{className:"tabdeadentry"},"Past year: ",g," dead (",w()(g/r.diff("days")).format("0.00"),"/day)"))});n(111);function U(){var t=Object(h.a)(["logout"]);return U=function(){return t},t}var H=Object(s.connect)({logout:Object(i.sequences)(U())},function(t){return c.a.createElement("div",{className:"prefs"},c.a.createElement("a",{href:"#top",className:"prefslink",onClick:function(e){t.logout(),e.preventDefault()}},"Change Trello Account"))});n(113);function P(){var t=Object(h.a)(["tabSelector"]);return P=function(){return t},t}var K=Object(s.connect)({tabSelector:Object(i.state)(P())},function(t){var e=c.a.createElement("div",{className:"tabscontainer"},"Unknown Tab Type");switch(t.tabSelector.active){case"weights":e=c.a.createElement(S,null);break;case"tag":e=c.a.createElement(T,null);break;case"group":e=c.a.createElement(M,null);break;case"dead":e=c.a.createElement(V,null);break;case"prefs":e=c.a.createElement(H,null)}return e}),F=n(79),J=n.n(F);n(116);function Q(){var t=Object(h.a)(["changeTab"]);return Q=function(){return t},t}function X(){var t=Object(h.a)(["tabSelector"]);return X=function(){return t},t}var Z=Object(s.connect)({tabSelector:Object(i.state)(X()),changeTab:Object(i.sequences)(Q())},function(t){return c.a.createElement("div",{className:"tabselector"},c.a.createElement("div",{className:"tabselectorbutton "+("prefs"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"prefs"})}},c.a.createElement(J.a,{name:"bars"})),c.a.createElement("div",{className:"tabselectorbutton "+("weights"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"weights"})}},"Weights"),c.a.createElement("div",{className:"tabselectorbutton "+("tag"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"tag"})}},"Tag"),c.a.createElement("div",{className:"tabselectorbutton "+("group"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"group"})}},"Group"),c.a.createElement("div",{className:"tabselectorbutton "+("dead"===t.tabSelector.active?"tabselectorbuttonactive":""),onClick:function(e){return t.changeTab({active:"dead"})}},"Dead"))}),$=n(56),_=n.n($);n(118);function tt(){var t=Object(h.a)(["changeHeavyLimit"]);return tt=function(){return t},t}function et(){var t=Object(h.a)(["changeLightLimit"]);return et=function(){return t},t}function nt(){var t=Object(h.a)(["loadWeightsForDate"]);return nt=function(){return t},t}function at(){var t=Object(h.a)(["changeDate"]);return at=function(){return t},t}function rt(){var t=Object(h.a)(["limits"]);return rt=function(){return t},t}function ct(){var t=Object(h.a)(["weights.records"]);return ct=function(){return t},t}function ot(){var t=Object(h.a)(["date"]);return ot=function(){return t},t}var ut=Object(s.connect)({date:Object(i.state)(ot()),records:Object(i.state)(ct()),limits:Object(i.state)(rt()),changeDate:Object(i.sequences)(at()),loadWeightsForDate:Object(i.sequences)(nt()),changeLightLimit:Object(i.sequences)(et()),changeHeavyLimit:Object(i.sequences)(tt())},function(t){var e=j.a.filter(t.records,function(e){return e.weight&&e.weight>t.limits.heavy}).length,n=j.a.reduce(t.records,function(t,e){if(!e.sort||!e.adjWeight||!e.tag)return t;var n=t[e.sort];n.lbsGain+=e.lbsGain||0,n.days+=e.days||0,n.adjWeight+=e.adjWeight,n.count++;var a=t.ALL;return a.lbsGain+=e.lbsGain||0,a.days+=e.days||0,a.adjWeight+=e.adjWeight,a.count++,t},{ALL:{lbsGain:0,days:0,adjWeight:0,count:0},SELL:{lbsGain:0,days:0,adjWeight:0,count:0},HEAVY:{lbsGain:0,days:0,adjWeight:0,count:0},KEEP:{lbsGain:0,days:0,adjWeight:0,count:0},JUNK:{lbsGain:0,days:0,adjWeight:0,count:0},SPECIAL1:{lbsGain:0,days:0,adjWeight:0,count:0}});function a(t,e){return c.a.createElement(_.a,{key:"weightdatebarstats"+t,className:"weightdatebarcardouter"},c.a.createElement("div",{className:"weightdatebarcardtitle"},t),c.a.createElement("div",{className:"weightdatebarcardinner"},c.a.createElement("div",{className:"weightdatebarfilter"},e.count+" head"),c.a.createElement("div",{className:"weightdatebarfilter"},e.days?w()(e.lbsGain/e.days).format("0.00"):0," RoG"),c.a.createElement("div",{className:"weightdatebarfilter"},e.count?w()(e.adjWeight/e.count).format("0"):0," lbs")))}return c.a.createElement("div",{className:"weightdatebar"},c.a.createElement(_.a,{className:"weightdatebarcardouter"},c.a.createElement("div",{className:"weightdatebarcardtitle"},"Date / Heavy Filter"),c.a.createElement("div",{className:"weightdatebarcardinner"},c.a.createElement("input",{className:"weightdatebarinput",value:t.date,type:"date",onChange:function(e){e.preventDefault(),t.changeDate({date:e.target.value})},onBlur:function(){return t.loadWeightsForDate()}}),c.a.createElement("div",{className:"weightdatebarfilter"},e," >",c.a.createElement("input",{className:"weightdatebarinput",label:"Heavy",size:"5",value:t.limits.heavy,onChange:function(e){e.preventDefault(),t.changeHeavyLimit({heavy:e.target.value})}}),"lbs"))),j.a.map(["ALL","SELL","HEAVY","KEEP","JUNK"],function(t){return a(t,n[t])}),function(t){var e=j.a.cloneDeep(n[t[0]]);return j.a.each(t.slice(1),function(t){var a=n[t];e.count+=a.count,e.lbsGain+=a.lbsGain,e.adjWeight+=a.adjWeight}),a(j.a.join(t,"+"),e)}(["SELL","HEAVY"]))});n(194);function it(){var t=Object(h.a)(["windowSize"]);return it=function(){return t},t}var st=Object(s.connect)({windowSize:Object(i.state)(it())},function(t){return c.a.createElement("div",{className:"weightspane",style:{height:"landscape"===t.windowSize.orientation?"100vh":"100vw"}},c.a.createElement(m,null),c.a.createElement(Z,null),c.a.createElement(ut,null),c.a.createElement(K,null))}),lt=(n(196),Object(s.connect)({},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"keypressed",value:function(t){if(!this.props.disableKeypress){8===t.keyCode&&(this.props.onBackspace(),t.preventDefault());var e=t.keyCode-48;e>=0&&e<=9&&(this.props.onNumber(e),t.preventDefault())}}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keypressed.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keypressed.bind(this))}},{key:"numberClicked",value:function(t){var e=this;return function(n){n.preventDefault(),e.props.onNumber(t)}}},{key:"clearClicked",value:function(t){t.preventDefault(),this.props.onClear()}},{key:"backspaceClicked",value:function(t){t.preventDefault(),this.props.onBackspace()}},{key:"renderCalcRow",value:function(t){var e=this;return c.a.createElement("div",{className:"keypadrow"},t.map(function(t){return c.a.createElement("div",{className:"keypadbutton",key:"calcwrap"+(j.a.isObject(t)?t.val:t),onClick:j.a.isObject(t)?t.clicked:e.numberClicked(t).bind(e)},j.a.isObject(t)?t.val:t)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"keypad"},this.renderCalcRow([1,2,3]),this.renderCalcRow([4,5,6]),this.renderCalcRow([7,8,9]),this.renderCalcRow([{val:"C",clicked:this.clearClicked.bind(this)},0,{val:"<--",clicked:this.backspaceClicked.bind(this)}]))}}]),e}(c.a.Component)));n(198);function gt(){var t=Object(h.a)(["changeTag"]);return gt=function(){return t},t}function bt(){var t=Object(h.a)(["treatments.colors"]);return bt=function(){return t},t}function dt(){var t=Object(h.a)(["tagInput.tag"]);return dt=function(){return t},t}var ft=Object(s.connect)({tag:Object(i.state)(dt()),colors:Object(i.state)(bt()),changeTag:Object(i.sequences)(gt())},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"keypressed",value:function(t){var e="";switch(t.key){case"y":e="YELLOW";break;case"g":e="GREEN";break;case"b":e="BLUE";break;case"r":e="RED";break;case"p":e="PURPLE";break;case"w":e="WHITE";break;case"n":e="NOTAG";break;default:return}t.preventDefault(),this.props.changeTag({tag:{color:e}})}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keypressed.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keypressed.bind(this))}},{key:"colorButtonClicked",value:function(t){var e=this.props;return function(n){n.preventDefault(),e.changeTag({tag:{color:t}})}}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"colorbar"},j.a.keys(this.props.colors).map(function(e,n){return c.a.createElement("div",{key:"color"+e,className:"colorbutton",onClick:t.colorButtonClicked(e),style:{backgroundColor:t.props.colors[e]}})}),c.a.createElement("div",{key:"colorNOTAG",className:"colorbutton",onClick:this.colorButtonClicked("NOTAG"),style:{backgroundColor:"#CCCCCC"}}))}}]),e}(c.a.Component));n(200);function ht(){var t=Object(h.a)(["changeTag"]);return ht=function(){return t},t}function vt(){var t=Object(h.a)(["treatments.colors"]);return vt=function(){return t},t}function mt(){var t=Object(h.a)(["tagInput.tag"]);return mt=function(){return t},t}var pt=Object(s.connect)({tag:Object(i.state)(mt()),colors:Object(i.state)(vt()),changeTag:Object(i.sequences)(ht())},function(t){var e=t.colors[t.tag.color];return c.a.createElement("div",{className:"tagbar"},c.a.createElement("input",{className:"colortext",style:{color:e,borderColor:e},value:t.tag.color,type:"text",onChange:function(e){e.preventDefault(),t.changeTag({tag:{color:e.target.value}})}}),c.a.createElement("input",{className:"numbertext",value:t.tag.number||"",type:"text",onChange:function(e){e.preventDefault(),t.changeTag({tag:{number:+e.target.value}})}}))});n(202);function jt(){var t=Object(h.a)(["moveInputDown"]);return jt=function(){return t},t}function Ot(){var t=Object(h.a)(["moveInputUp"]);return Ot=function(){return t},t}function wt(){var t=Object(h.a)(["saveTag"]);return wt=function(){return t},t}function Et(){var t=Object(h.a)(["changeTag"]);return Et=function(){return t},t}function yt(){var t=Object(h.a)(["tagInput"]);return yt=function(){return t},t}function kt(){var t=Object(h.a)(["recordsValid"]);return kt=function(){return t},t}var It=Object(s.connect)({recordsValid:Object(i.state)(kt()),tagInput:Object(i.state)(yt()),changeTag:Object(i.sequences)(Et()),saveTag:Object(i.sequences)(wt()),moveUp:Object(i.sequences)(Ot()),moveDown:Object(i.sequences)(jt())},function(t){var e=t.recordsValid&&t.tagInput.tag&&t.tagInput.tag.number&&t.tagInput.tag.color.length>0;return c.a.createElement("div",{className:"taginput"},c.a.createElement(pt,null),c.a.createElement(ft,null),c.a.createElement(lt,{onNumber:function(e){var n=""+(t.tagInput.tag.number||"");t.changeTag({tag:{number:n+e}})},onClear:function(){t.changeTag({tag:{number:"",color:""}})},onBackspace:function(){var e=""+t.tagInput.tag.number;e.length>0&&(e=e.slice(0,-1)),t.changeTag({tag:{number:+e}})},disableKeypress:!0}),c.a.createElement("div",{className:"taginputbuttonscontainer"},c.a.createElement("div",{className:"taginputrowbutton taginputrowbuttonleft",onClick:function(){return t.moveUp({whichInput:"tagInput"})}},"^"),c.a.createElement("div",{className:"savebutton "+(e?"savebuttonenabled":"savebuttondisabled"),onClick:function(n){e&&(n.preventDefault(),t.saveTag())}},"SAVE TAG"),c.a.createElement("div",{className:"taginputrowbutton taginputrowbuttonright",onClick:function(){return t.moveDown({whichInput:"tagInput"})}},"v")))});n(204);function Nt(){var t=Object(h.a)(["moveInputDown"]);return Nt=function(){return t},t}function Ct(){var t=Object(h.a)(["moveInputUp"]);return Ct=function(){return t},t}function Dt(){var t=Object(h.a)(["saveWeight"]);return Dt=function(){return t},t}function St(){var t=Object(h.a)(["changeWeight"]);return St=function(){return t},t}function Tt(){var t=Object(h.a)(["weightInput"]);return Tt=function(){return t},t}function Lt(){var t=Object(h.a)(["recordsValid"]);return Lt=function(){return t},t}var Wt=Object(s.connect)({recordsValid:Object(i.state)(Lt()),weightInput:Object(i.state)(Tt()),changeWeight:Object(i.sequences)(St()),saveWeight:Object(i.sequences)(Dt()),moveUp:Object(i.sequences)(Ct()),moveDown:Object(i.sequences)(Nt())},function(t){var e=t.recordsValid&&t.weightInput.weight>0;return c.a.createElement("div",{className:"weightinput"},c.a.createElement("div",{className:"weightinputdisplay"},c.a.createElement("input",{className:"weightinputdisplayinput",size:"8",disabled:"disabled",value:w()(10*t.weightInput.weight).format(0,0)}),"lbs"),c.a.createElement(lt,{onNumber:function(e){var n=""+(t.weightInput.weight||"");t.changeWeight({weight:n+e})},onClear:function(){t.changeWeight({weight:""})},onBackspace:function(){var e=""+t.weightInput.weight;e.length>0&&(e=e.slice(0,-1)),t.changeWeight({weight:+e})},disableKeypress:!0}),c.a.createElement("div",{className:"weightinputbuttonscontainer"},c.a.createElement("div",{className:"weightinputrowbutton weightinputrowbuttonleft",onClick:function(){return t.moveUp({whichInput:"weightInput"})}},"^"),c.a.createElement("div",{className:"weightsavebutton "+(e?"weightsavebuttonenabled":"weightsavebuttondisabled"),onClick:function(n){e&&(n.preventDefault(),t.saveWeight())}},"SAVE LBS"),c.a.createElement("div",{className:"weightinputrowbutton weightinputrowbuttonright",onClick:function(){return t.moveDown({whichInput:"weightInput"})}},"v")))});n(206);function Yt(){var t=Object(h.a)(["init"]);return Yt=function(){return t},t}function qt(){var t=Object(h.a)(["windowSize"]);return qt=function(){return t},t}var Gt=Object(s.connect)({windowSize:Object(i.state)(qt()),init:Object(i.sequences)(Yt())},function(t){function e(){return Object(l.a)(this,e),Object(b.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(g.a)(e,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"render",value:function(){var t="landscape"===this.props.windowSize.orientation?"row":"column",e="row"===t?"column":"row",n="row"===e?"100%":"300px";return c.a.createElement("div",{className:"App",style:{flexDirection:t}},c.a.createElement(st,null),c.a.createElement("div",{className:"inputs",style:{flexDirection:e,maxWidth:n}},c.a.createElement(It,null),c.a.createElement("div",{className:"spacer"}),c.a.createElement(Wt,null)))}}]),e}(c.a.Component)),Rt=n(8),Mt=n(81),xt=n.n(Mt),Bt=n(82),At=n.n(Bt),zt=n(83),Vt=n.n(zt),Ut=n(84),Ht=n.n(Ut),Pt=n(85),Kt=n.n(Pt),Ft=n(86),Jt=n.n(Ft),Qt=n(87),Xt=n.n(Qt),Zt=n(88),$t=n.n(Zt),_t=n(89),te=n.n(_t),ee=n(90),ne=n.n(ee),ae=n(38),re=n(48),ce=n(49),oe=n(54),ue=n(28),ie=n(20),se=n(46),le=n(55),ge=n(32);function be(){var t=Object(h.a)(["msg"]);return be=function(){return t},t}function de(){var t=Object(h.a)(["recordsValid"]);return de=function(){return t},t}function fe(){var t=Object(h.a)(["weightInput.row"]);return fe=function(){return t},t}function he(){var t=Object(h.a)(["tagInput.row"]);return he=function(){return t},t}function ve(){var t=Object(h.a)(["weights.records"]);return ve=function(){return t},t}function me(){var t=Object(h.a)(["msg"]);return me=function(){return t},t}function pe(){var t=Object(h.a)(["msg"]);return pe=function(){return t},t}function je(){var t=Object(h.a)(["msg"]);return je=function(){return t},t}function Oe(){var t=Object(h.a)(["msg"]);return Oe=function(){return t},t}function we(){var t=Object(h.a)(["msg"]);return we=function(){return t},t}function Ee(){var t=Object(h.a)(["weightInput"]);return Ee=function(){return t},t}function ye(){var t=Object(h.a)(["msg"]);return ye=function(){return t},t}function ke(){var t=Object(h.a)(["msg"]);return ke=function(){return t},t}function Ie(){var t=Object(h.a)(["tagInput"]);return Ie=function(){return t},t}function Ne(){var t=Object(h.a)(["msg"]);return Ne=function(){return t},t}function Ce(){var t=Object(h.a)(["weights.records.",""]);return Ce=function(){return t},t}function De(){var t=Object(h.a)(["weights.records.",""]);return De=function(){return t},t}function Se(){var t=Object(h.a)(["date"]);return Se=function(){return t},t}function Te(){var t=Object(h.a)(["weights.records.",""]);return Te=function(){return t},t}function Le(){var t=Object(h.a)(["weights.records.",""]);return Le=function(){return t},t}function We(){var t=Object(h.a)(["incoming.records"]);return We=function(){return t},t}function Ye(){var t=Object(h.a)(["date"]);return Ye=function(){return t},t}function qe(){var t=Object(h.a)(["incoming.records"]);return qe=function(){return t},t}function Ge(){var t=Object(h.a)(["weights.records.",".tag"]);return Ge=function(){return t},t}function Re(){var t=Object(h.a)(["weights.records.",".weight"]);return Re=function(){return t},t}function Me(){var t=Object(h.a)(["",".row"]);return Me=function(){return t},t}function xe(){var t=Object(h.a)(["",".row"]);return xe=function(){return t},t}function Be(){var t=Object(h.a)(["",".row"]);return Be=function(){return t},t}function Ae(){var t=Object(h.a)(["weights.records"]);return Ae=function(){return t},t}function ze(){var t=Object(h.a)(["weightInput.weight"]);return ze=function(){return t},t}function Ve(){var t=Object(h.a)(["weights.records.",".weight"]);return Ve=function(){return t},t}function Ue(){var t=Object(h.a)(["weightInput.weight"]);return Ue=function(){return t},t}function He(){var t=Object(h.a)(["tagInput.tag"]);return He=function(){return t},t}function Pe(){var t=Object(h.a)(["weights.records.",".tag"]);return Pe=function(){return t},t}function Ke(){var t=Object(h.a)(["tagInput.tag.number"]);return Ke=function(){return t},t}function Fe(){var t=Object(h.a)(["weights.records"]);return Fe=function(){return t},t}function Je(){var t=Object(h.a)(["",".row"]);return Je=function(){return t},t}function Qe(){var t=Object(h.a)(["msg"]);return Qe=function(){return t},t}function Xe(){var t=Object(h.a)(["weights.records.",".sort"]);return Xe=function(){return t},t}function Ze(){var t=Object(h.a)(["msg"]);return Ze=function(){return t},t}function $e(){var t=Object(h.a)(["tagInput.tag.color"]);return $e=function(){return t},t}function _e(){var t=Object(h.a)(["tagInput.tag.number"]);return _e=function(){return t},t}function tn(){var t=Object(h.a)(["weight"]);return tn=function(){return t},t}function en(){var t=Object(h.a)(["weightInput.weight"]);return en=function(){return t},t}function nn(){var t=Object(h.a)(["date"]);return nn=function(){return t},t}function an(){var t=Object(h.a)(["date"]);return an=function(){return t},t}function rn(){var t=Object(h.a)(["date"]);return rn=function(){return t},t}function cn(){var t=Object(h.a)(["date"]);return cn=function(){return t},t}function on(){var t=Object(h.a)(["heavy"]);return on=function(){return t},t}function un(){var t=Object(h.a)(["limits.heavy"]);return un=function(){return t},t}function sn(){var t=Object(h.a)(["light"]);return sn=function(){return t},t}function ln(){var t=Object(h.a)(["limits.light"]);return ln=function(){return t},t}function gn(){var t=Object(h.a)(["sort"]);return gn=function(){return t},t}function bn(){var t=Object(h.a)(["tabGroup.sort"]);return bn=function(){return t},t}function dn(){var t=Object(h.a)(["active"]);return dn=function(){return t},t}function fn(){var t=Object(h.a)(["tabSelector.active"]);return fn=function(){return t},t}var hn=function(){var t=document.getElementById("tagScrollToMe");t&&t.scrollIntoView()},vn=function(){var t=document.getElementById("weightScrollToMe");t&&t.scrollIntoView()},mn=[Object(Rt.set)(Object(B.state)(fn()),Object(B.props)(dn()))],pn=[Object(Rt.set)(Object(B.state)(bn()),Object(B.props)(gn()))],jn=[ie.deauthorize,ie.authorize],On=Object(i.sequence)("changeLightLimit",[Object(Rt.set)(Object(B.state)(ln()),Object(B.props)(sn()))]),wn=Object(i.sequence)("changeHeavyLimit",[Object(Rt.set)(Object(B.state)(un()),Object(B.props)(on()))]),En=Object(i.sequence)("changeDate",[Object(Rt.set)(Object(B.state)(cn()),Object(B.props)(rn()))]),yn=Object(i.sequence)("loadWeightsForDate",[Object(Rt.set)(Object(B.props)(an()),Object(B.state)(nn())),ue.clearCache,ue.fetch]),kn=Object(i.sequence)("changeWeight",[Object(Rt.set)(Object(B.state)(en()),Object(B.props)(tn())),vn]),In=Object(i.sequence)("changeTag",[function(t){var e=t.props,n=t.store;"undefined"!==typeof e.tag.number&&n.set(Object(B.state)(_e()),+e.tag.number),e.tag.color&&n.set(Object(B.state)($e()),e.tag.color)},hn]),Nn=Object(i.sequence)("changeSort",[Object(Rt.set)(Object(B.state)(Ze()),{type:"bad",text:"Saving sort type change..."}),function(t){var e=t.props;return t.store.set(Object(B.state)(Xe(),e.row),e.value)},ue.saveRecordRow,Object(Rt.set)(Object(B.state)(Qe()),{type:"good",text:"Sort type change saved"})]);var Cn=Object(i.sequence)("moveTagInput",[function(t){var e=t.store,n=t.props,a=t.get,r=n.row;if(n.row<0)r=0;else{var c=a(Object(B.state)(Ae())).length;n.row>c-1&&(r=c)}return e.set(Object(B.state)(Be(),n.whichInput),r),{row:r}},function(t){var e=t.store,n=t.props,a=t.get,r=a(Object(B.state)(Je(),n.whichInput)),c=a(Object(B.state)(Fe())).length;if("tagInput"===n.whichInput){if(r===c)return e.set(Object(B.state)(Ke()),"");var o=a(Object(B.state)(Pe(),r));o&&e.set(Object(B.state)(He()),j.a.clone(o))}if(r===c)return e.set(Object(B.state)(Ue()),"");var u=a(Object(B.state)(Ve(),r));e.set(Object(B.state)(ze()),j.a.clone(u)/10)},function(t){return"tagInput"===t.props.whichInput?hn():vn()}]),Dn=Object(i.sequence)("moveInputUp",[function(t){var e=t.props;return{row:(0,t.get)(Object(B.state)(xe(),e.whichInput))-1}},Cn]),Sn=Object(i.sequence)("moveTagInputDown",[function(t){var e=t.get,n=t.props;return{row:e(Object(B.state)(Me(),n.whichInput))+1}},Cn]);function Tn(t){var e=t.props,n=t.get;if(!e.group&&e.tag){var a=Object(ge.groupForTag)(n(Object(B.state)(qe())),e.tag);if(a){var r=W()(n(Object(B.state)(Ye())),"YYYY-MM-DD").diff(W()(a.date,"YYYY-MM-DD"),"days");return{group:j.a.cloneDeep(a.groupname),days:r,inDate:a.date}}}}function Ln(t){var e=t.props,n=t.get;if(e.weight&&e.group&&e.days&&e.tag){var a=j.a.find(n(Object(B.state)(We())),function(t){return t.groupname===e.group}),r=e.days,c=e.weight/.98,o=c-a.weight;return{adjWeight:c,lbsGain:o,rog:o/r}}}function Wn(t){var e=t.props,n=t.store,a=t.get;a(Object(B.state)(Le(),e.row))||n.set(Object(B.state)(Te(),e.row),{row:e.row,date:a(Object(B.state)(Se()))});var r={};return e.tag&&(r.tag=j.a.clone(e.tag)),e.weight&&(r.weight=e.weight),e.adjWeight&&(r.adjWeight=e.adjWeight),e.lbsGain&&(r.lbsGain=e.lbsGain),e.group&&(r.group=e.group),e.days&&(r.days=e.days),e.rog&&(r.rog=e.rog),e.inDate&&(r.inDate=e.inDate),n.merge(Object(B.state)(De(),e.row),r),{record:a(Object(B.state)(Ce(),e.row))}}var Yn=Object(i.sequence)("saveTag",[Object(Rt.set)(Object(B.state)(Ne()),{type:"bad",text:"Saving tag..."}),function(t){return(0,t.get)(Object(B.state)(Ie()))},Tn,function(t){var e=t.props,n=t.get;if(!e.weight){var a=n(Object(B.state)(Re(),e.row));if(a)return{weight:j.a.cloneDeep(a)}}},Ln,Wn,ue.saveRecordRow,function(){return{whichInput:"tagInput"}},Sn,Object(Rt.set)(Object(B.state)(ke()),{type:"good",text:"Tag Saved"})]),qn=Object(i.sequence)("saveWeight",[Object(Rt.set)(Object(B.state)(ye()),{type:"bad",text:"Saving weight..."}),function(t){return(0,t.get)(Object(B.state)(Ee()))},function(t){return{weight:10*t.props.weight}},function(t){var e=t.props,n=t.get;if(!e.tag){var a=n(Object(B.state)(Ge(),e.row));if(a)return{tag:j.a.cloneDeep(a)}}},Tn,Ln,Wn,ue.saveRecordRow,function(){return{whichInput:"weightInput"}},Sn,Object(Rt.set)(Object(B.state)(we()),{type:"good",text:"Weight Saved"})]),Gn=Object(i.sequence)("init",[le.init,Object(Rt.set)(Object(B.state)(Oe()),{type:"good",text:"Checking trello authorization..."}),ie.authorize,Object(Rt.set)(Object(B.state)(je()),{type:"good",text:"Checking google authorization..."}),se.authorize,Object(Rt.set)(Object(B.state)(pe()),{type:"good",text:"Fetching records..."}),Object(i.parallel)("parallel fetch",[re.fetch,re.fetchConfig,ce.fetch,oe.fetch,yn]),Object(Rt.set)(Object(B.state)(me()),{type:"good",text:"Computing stats..."}),ce.computeStats,function(t){var e=t.store,n=(0,t.get)(Object(B.state)(ve())).length;e.set(Object(B.state)(he()),n),e.set(Object(B.state)(fe()),n)},Object(Rt.set)(Object(B.state)(de()),!0),Object(Rt.set)(Object(B.state)(be()),{type:"good",text:"Loaded successfully."}),hn]);function Rn(){var t=Object(h.a)(["msg"]);return Rn=function(){return t},t}function Mn(){var t=Object(h.a)(["msg"]);return Mn=function(){return t},t}function xn(){var t=Object(h.a)(["msg"]);return xn=function(){return t},t}var Bn={sequences:a,state:{recordsValid:!1,date:W()().format("YYYY-MM-DD"),tabSelector:{active:"weights"},tagInput:{row:0,tag:{number:"",color:""}},weightInput:{row:0,weight:""},limits:{light:1200,heavy:1530},msg:{type:"bad",text:"Initializing..."}},modules:{treatments:xt.a,incoming:At.a,dead:Vt.a,weights:Ht.a,trello:Kt.a,google:Jt.a,windowSize:Xt.a},providers:{trello:$t.a,google:te.a,windowSize:ne.a},catch:[[ae.TrelloSaveError,[Object(Rt.set)(Object(B.state)(xn()),"ERROR: failed to save in Trello")]],[ae.TrelloGetError,[Object(Rt.set)(Object(B.state)(Mn()),"ERROR: failed to get in Trello")]],[ae.TrelloAuthorizeError,[Object(Rt.set)(Object(B.state)(Rn()),"ERROR: failed to authorize in Trello")]]]},An=(n(211),n(228),Object(i.default)(Bn,{devtools:null}));u.a.render(c.a.createElement(s.Container,{app:An},c.a.createElement(Gt,null)),document.getElementById("root"))},91:function(t,e,n){t.exports=n(230)}},[[91,2,1]]]);
//# sourceMappingURL=main.56f6f639.chunk.js.map